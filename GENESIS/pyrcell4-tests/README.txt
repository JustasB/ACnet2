Test scripts for the ACnet2 pyramical cells
-------------------------------------------


These files use the scripts from the original ACnet2-GENESIS distribution
to test both symmetric and asymmetric versions of the layer 4 pyramidal
cell.

Both versions of the main pyrcell4 script use hsolve in chanmode 0,
and a small time step of 10 microsec, as in the neuroConstruct
version.  A 0.6 nA injection pulse is applied for 0.5 sec after
a delay of 0.1 sec - dt, as in the neuroConstruct script.

These have many flags to set the use of hsolve or not, chanmodes, etc.::

  pyrcell4S.g - uses the file  pyr_4_sym.p
  pyrcell4.g - uses the file pyr_4_asym.p
  graphics4.g - graphics functions
  protodefs4.g - creates the prototypes for the pyramidal cel
  pyrchans.g - functions to create the channels.

**Screen shots**

*pyrcell4-Vm-Ca_conc.png* shows the plots generated from pyrcell4S.
Note that 17 action potentials are generated, and the decay of the
Ca concentration.

*pyrcell4-inject.png* compares the Vm plots for the symmetric and
asymmetric versions.  They are very similar, although not identical.

*boris-acnet.png* is from the simulation generated by neuroConstruct.
The same inputs generate about 44 action potentials.  Apart from the
arbitrary units in pyrchans.g that were used in the original traub
1991 paper, the decay is slower than that in the neuroConstruct
version.

**Alternate channel descriptions**

The difference between the results with the "_GEN" files from
neuroConstruct and the original files is likely to arise from the
inability to deal with commands in protodefs4.g that modify the
channel descriptions in pyrchans.g.  The protodefs file contains
commands::

    make_Kdr_hip_traub91 Kdr_pyr
    // slow down the firng by doubling Kdr_pyr
    scaletabchan Kdr_pyr X tau 1.0 2.0 0.0 0.0

    make_Kahp_hip_traub91 Kahp_pyr
    /* The original traub91 Kahp tau had a max of 1 sec at [Ca]=0, dropping
       to 0.2 when [Ca]=200, and 0.1 at higher values.  This scaling makes the
       typical range 10-50 msec, which is roughly the time for adaptation in
       neocortical pyramidal cells.
    */
    scaletabchan Kahp_pyr Z tau 1.0 0.05 0.0 0.0

    make_Ca_hip_conc Ca_conc
    /* The original Ca_conc tau was 0.0133 sec.  A value of 0.05 sec gives
       [Ca] more time to decay.
    */
    setfield Ca_conc tau 0.1

The 'scaletabchan' command is very specific to GENESIS 2 and was a problem
when converting the models to NDF format for GENESIS 3. Although it is
very useful for cell tuning, the proper solution is to then modify
the channel descriptions so that no scaling is needed.  That is what
has been done in these files::

  pyrchans0.g - Modified version of pyrchans.g not requiring scaletabchan

  protodefs0.g -  Modified version of   protodefs.g not requiring scaletabchan
  Note that it still used to set the value of Ca_conc tau.

  pyrcell4S0.g - The new version of pyrcell4S.g.  The plotted results
  are identical to those shown in pyrcell4-Vm-Ca_conc.png, although
  there are differences in the generated Vm output files.

  FSchans0.g - Modified version of basket cell channels not requiring
  scaletabchan (not used here)

